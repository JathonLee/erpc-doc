"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3324],{7966:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"guide/error_handling","title":"\u9519\u8bef\u5904\u7406","description":"\u76ee\u524d erpc \u5185\u7f6e\u4e86 errors \u5305,APIs \u54cd\u5e94\u9519\u8bef\u65f6\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 errors \u5305\u4e2d\u7684 New \u65b9\u6cd5\u6765\u58f0\u660e\u4e00\u4e2a\u63a5\u53e3\u62a5\u9519.","source":"@site/docs/guide/07_error_handling.md","sourceDirName":"guide","slug":"/guide/error_handling","permalink":"/erpc-doc/docs/guide/error_handling","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/guide/07_error_handling.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"\u65b0\u589e Redis","permalink":"/erpc-doc/docs/guide/new_redis"},"next":{"title":"\u65e5\u5fd7\u6253\u5370","permalink":"/erpc-doc/docs/guide/logging"}}');var t=n(4848),o=n(8453);const i={sidebar_position:7},c="\u9519\u8bef\u5904\u7406",d={},a=[];function u(e){const r={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"\u9519\u8bef\u5904\u7406",children:"\u9519\u8bef\u5904\u7406"})}),"\n",(0,t.jsxs)(r.p,{children:["\u76ee\u524d erpc \u5185\u7f6e\u4e86 ",(0,t.jsx)(r.code,{children:"errors"})," \u5305,APIs \u54cd\u5e94\u9519\u8bef\u65f6\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 ",(0,t.jsx)(r.code,{children:"errors"})," \u5305\u4e2d\u7684 ",(0,t.jsx)(r.code,{children:"New"})," \u65b9\u6cd5\u6765\u58f0\u660e\u4e00\u4e2a\u63a5\u53e3\u62a5\u9519."]}),"\n",(0,t.jsx)(r.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-go",children:'import "talkcheap.xiaoeknow.com/erpc/erpc/errors"\n\nfunc (s *ShopUserCenterService) GetUserInfo(ctx context.Context, req *v1.GetUserInfoRequest) (*v1.GetUserInfoResponse, error) {\n    user, err := s.repo.GetUser(ctx, req.GetAppId(), req.GetUserId())\n    if err != nil {\n        // code \u4e3a 400\uff0cmsg\u4fe1\u606f\u4e3a\uff1a\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\n        return nil, errors.New(400, "\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25")\n        // \u6216\n        return nil. errors.BadRequest("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25")\n    }\n    return &v1.GetUserInfoResponse{\n        Data: &v1.UserInfo{\n            AppId:    user.AppID,\n            UserId:   user.UserID,\n            UserName: user.UserName,\n        },\n    }, nil\n}\n\n'})})]})}function p(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>c});var s=n(6540);const t={},o=s.createContext(t);function i(e){const r=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(o.Provider,{value:r},e.children)}}}]);