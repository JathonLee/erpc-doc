"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3013],{3305:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>c,toc:()=>a});const c=JSON.parse('{"id":"tools/erpc-cli","title":"erpc-cli","description":"erpc-cli \u662f\u4e00\u4e2a\u96c6\u6210\u4e8e erpc \u6846\u67b6\u7684\u547d\u4ee4\u884c\u5de5\u5177,\u7528\u4e8e\u7b80\u5316\u6846\u67b6\u7684\u521d\u59cb\u5316\u3001\u81ea\u52a8\u751f\u6210\u4ee3\u7801\u4ee5\u53ca\u5176\u4ed6\u5e38\u7528\u64cd\u4f5c.\u5b83\u63d0\u4f9b\u4e86\u4fbf\u6377\u7684\u547d\u4ee4\u6765\u52a0\u901f\u5f00\u53d1\u6d41\u7a0b,\u63d0\u9ad8\u5f00\u53d1\u6548\u7387.","source":"@site/docs/tools/erpc-cli.md","sourceDirName":"tools","slug":"/tools/erpc-cli","permalink":"/docs/tools/erpc-cli","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tools/erpc-cli.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"\u5de5\u5177","permalink":"/docs/category/\u5de5\u5177"},"next":{"title":"\u53ef\u89c2\u6d4b\u6027","permalink":"/docs/category/\u53ef\u89c2\u6d4b\u6027"}}');var r=s(4848),o=s(8453);const l={sidebar_position:1},i="erpc-cli",d={},a=[{value:"comp - \u7ec4\u4ef6\u529f\u80fd",id:"comp---\u7ec4\u4ef6\u529f\u80fd",level:2},{value:"1. comp add - \u6dfb\u52a0\u7ec4\u4ef6",id:"1-comp-add---\u6dfb\u52a0\u7ec4\u4ef6",level:4},{value:"2. comp list - \u5217\u51fa\u6240\u6709\u652f\u6301\u7684\u7ec4\u4ef6",id:"2-comp-list---\u5217\u51fa\u6240\u6709\u652f\u6301\u7684\u7ec4\u4ef6",level:4},{value:"gen - \u81ea\u52a8\u751f\u6210\u529f\u80fd",id:"gen---\u81ea\u52a8\u751f\u6210\u529f\u80fd",level:2},{value:"new - \u65b0\u5efa\u9879\u76ee(\u57fa\u4e8e erpc \u6846\u67b6)",id:"new---\u65b0\u5efa\u9879\u76ee\u57fa\u4e8e-erpc-\u6846\u67b6",level:2},{value:"1. \u65b0\u589e\u76ee\u5f55\u521b\u5efa",id:"1-\u65b0\u589e\u76ee\u5f55\u521b\u5efa",level:4},{value:"2. \u57fa\u4e8e\u5f53\u524d\u76ee\u5f55\u521b\u5efa",id:"2-\u57fa\u4e8e\u5f53\u524d\u76ee\u5f55\u521b\u5efa",level:4},{value:"proto - proto \u6587\u4ef6\u76f8\u5173\u529f\u80fd",id:"proto---proto-\u6587\u4ef6\u76f8\u5173\u529f\u80fd",level:2},{value:"1. \u65b0\u589eproto\u6587\u4ef6(\u57fa\u4e8e\u521d\u59cb\u5316\u6a21\u7248)",id:"1-\u65b0\u589eproto\u6587\u4ef6\u57fa\u4e8e\u521d\u59cb\u5316\u6a21\u7248",level:4},{value:"swag - proto \u6587\u6863\u76f8\u5173\u529f\u80fd",id:"swag---proto-\u6587\u6863\u76f8\u5173\u529f\u80fd",level:2},{value:"upgrade - \u66f4\u65b0 erpc-cli",id:"upgrade---\u66f4\u65b0-erpc-cli",level:2},{value:"\u5176\u4ed6 - \u529f\u80fd",id:"\u5176\u4ed6---\u529f\u80fd",level:2}];function t(e){const n={admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"erpc-cli",children:"erpc-cli"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)("span",{class:"keyword-green",children:"erpc-cli"})," \u662f\u4e00\u4e2a\u96c6\u6210\u4e8e ",(0,r.jsx)("span",{class:"keyword-green",children:"erpc"})," \u6846\u67b6\u7684\u547d\u4ee4\u884c\u5de5\u5177,\u7528\u4e8e\u7b80\u5316\u6846\u67b6\u7684\u521d\u59cb\u5316\u3001\u81ea\u52a8\u751f\u6210\u4ee3\u7801\u4ee5\u53ca\u5176\u4ed6\u5e38\u7528\u64cd\u4f5c.\u5b83\u63d0\u4f9b\u4e86\u4fbf\u6377\u7684\u547d\u4ee4\u6765\u52a0\u901f\u5f00\u53d1\u6d41\u7a0b,\u63d0\u9ad8\u5f00\u53d1\u6548\u7387."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'erpc -h\nerpc: This is a Go rapid development framework developed by the Basic Product Center at Xiaoetong.\n\nUsage:\n  erpc [command]\n\nAvailable Commands:\n  comp        add new components\n  gen         Automatically generate commands\n  help        Help about any command\n  new         Create a service template\n  proto       Generate the proto files\n  swag        Start Swag api server\n  upgrade     Upgrade the erpc tools\n\nFlags:\n  -h, --help      help for erpc\n  -v, --version   version for erpc\n\nUse "erpc [command] --help" for more information about a command.\n'})})}),"\n",(0,r.jsx)(n.h2,{id:"comp---\u7ec4\u4ef6\u529f\u80fd",children:"comp - \u7ec4\u4ef6\u529f\u80fd"}),"\n",(0,r.jsx)(n.h4,{id:"1-comp-add---\u6dfb\u52a0\u7ec4\u4ef6",children:"1. comp add - \u6dfb\u52a0\u7ec4\u4ef6"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-n"})," (\u5fc5\u586b) \u7ec4\u4ef6\u540d\u79f0. eg.",(0,r.jsx)(n.code,{children:"fooDB"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-k"})," (\u975e\u5fc5\u586b) \u7ec4\u4ef6\u914d\u7f6e KEY \u516c\u5171\u524d\u7f00. eg.",(0,r.jsx)(n.code,{children:"DB_FOO_SUB_RW_HOST"})," \u524d\u7f00\u4e3a ",(0,r.jsx)(n.code,{children:"DB_FOO_SUB_RW"}),",\u4e0d\u586b\u4e3a\u9ed8\u8ba4KEY."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"cmop-gif",src:s(7693).A+"",width:"960",height:"580"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"# \u6dfb\u52a0\u4e00\u4e2a\u540d\u4e3a `fooDB` \u7684`gorm`\u7ec4\u4ef6, \u9ed8\u8ba4\u914d\u7f6eKEY\u4e3a `DEFUALT_KEY_XXX`\nerpc comp add gorm -n fooDB \n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"# \u6dfb\u52a0\u4e00\u4e2a\u540d\u4e3a `fooDB` \u7684`gorm`\u7ec4\u4ef6,\u914d\u7f6eKEY\u4e3a `DB_FOO_SUB_RW`\nerpc comp add gorm -n fooDB -k DB_FOO_SUB_RW \n"})}),"\n",(0,r.jsx)(n.h4,{id:"2-comp-list---\u5217\u51fa\u6240\u6709\u652f\u6301\u7684\u7ec4\u4ef6",children:"2. comp list - \u5217\u51fa\u6240\u6709\u652f\u6301\u7684\u7ec4\u4ef6"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"erpc comp list\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"alt text",src:s(4387).A+"",width:"1266",height:"264"})}),"\n",(0,r.jsx)(n.h2,{id:"gen---\u81ea\u52a8\u751f\u6210\u529f\u80fd",children:"gen - \u81ea\u52a8\u751f\u6210\u529f\u80fd"}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["\u9700\u8981\u5728",(0,r.jsx)(n.strong,{children:"\u9879\u76ee\u6839\u76ee\u5f55"}),"\u6267\u884c"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"# \u81ea\u52a8\u751f\u6210\u5e76\u66f4\u65b0 proto \u6539\u52a8\u540e\u7684\u4ea7\u7269\nerpc gen\n"})}),"\n",(0,r.jsx)(n.h2,{id:"new---\u65b0\u5efa\u9879\u76ee\u57fa\u4e8e-erpc-\u6846\u67b6",children:"new - \u65b0\u5efa\u9879\u76ee(\u57fa\u4e8e erpc \u6846\u67b6)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"qs",src:s(3946).A+"",width:"1916",height:"969"})}),"\n",(0,r.jsx)(n.h4,{id:"1-\u65b0\u589e\u76ee\u5f55\u521b\u5efa",children:"1. \u65b0\u589e\u76ee\u5f55\u521b\u5efa"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"current dir\n\u2514\u2500\u2500 foo\n    \u251c\u2500\u2500 main.go\n    \u2514\u2500\u2500 ...\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"# \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a `foo` \u7684`erpc`\u9879\u76ee(\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u65b0\u589e\u4e00\u4e2a\u6587\u4ef6)\nerpc new foo \n"})}),"\n",(0,r.jsx)(n.h4,{id:"2-\u57fa\u4e8e\u5f53\u524d\u76ee\u5f55\u521b\u5efa",children:"2. \u57fa\u4e8e\u5f53\u524d\u76ee\u5f55\u521b\u5efa"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"current dir\n    \u251c\u2500\u2500 main.go\n    \u2514\u2500\u2500 ...\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"# \u57fa\u4e8e`\u5f53\u524d\u76ee\u5f55\u540d\u79f0`\u521b\u5efa\u4e00\u4e2a`erpc`\u9879\u76ee\nerpc new .  \n"})}),"\n",(0,r.jsx)(n.h2,{id:"proto---proto-\u6587\u4ef6\u76f8\u5173\u529f\u80fd",children:"proto - proto \u6587\u4ef6\u76f8\u5173\u529f\u80fd"}),"\n",(0,r.jsx)(n.h4,{id:"1-\u65b0\u589eproto\u6587\u4ef6\u57fa\u4e8e\u521d\u59cb\u5316\u6a21\u7248",children:"1. \u65b0\u589eproto\u6587\u4ef6(\u57fa\u4e8e\u521d\u59cb\u5316\u6a21\u7248)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"erpc proto add foo # \u65b0\u589e\u4e00\u4e2a\u540d\u4e3a `foo.proto` \u7684`proto`\u6587\u4ef6(\u5728\u9879\u76ee\u89c4\u5b9a\u7684\u76ee\u5f55\u4e0b)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"swag---proto-\u6587\u6863\u76f8\u5173\u529f\u80fd",children:"swag - proto \u6587\u6863\u76f8\u5173\u529f\u80fd"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u751f\u6210 swagger \u672c\u5730\u6587\u6863","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-f"})," (\u5fc5\u586b) proto \u6587\u4ef6\u8def\u5f84. eg. ",(0,r.jsx)(n.code,{children:"docs/foo/v1/foo.swagger.json"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-p"})," (\u975e\u5fc5\u586b) swag ui \u7aef\u53e3\u53f7. \u9ed8\u8ba4 8090."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-t"})," (\u975e\u5fc5\u586b) (\u6709\u672c\u5730\u8c03\u8bd5\u9700\u6c42\u65f6\u5f00\u542f)target_port \u76ee\u6807\u670d\u52a1\u7aef\u53e3\u53f7. \u9ed8\u8ba4 8080."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"erpc swag -f docs/kl_richtext_system/v1/kl_richtext_system.swagger.json\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u751f\u6210 swagger ui \u540e,\u8bbf\u95ee\u5730\u5740: ",(0,r.jsx)(n.code,{children:"http://localhost:8090/swagapi/index.html"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"alt text",src:s(5e3).A+"",width:"2748",height:"1216"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"erpc swag -f xxx -t 8080 # \u5f00\u542f\u672c\u5730\u8c03\u8bd5\u529f\u80fd,-t \u6307\u5b9a\u7684\u662f\u672c\u5730\u5df2\u542f\u52a8\u7684\u670d\u52a1\u7aef\u53e3\u53f7.\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"alt text",src:s(6979).A+"",width:"2800",height:"674"}),"\n",(0,r.jsx)(n.img,{alt:"alt text",src:s(7146).A+"",width:"2788",height:"1728"})]}),"\n",(0,r.jsx)(n.h2,{id:"upgrade---\u66f4\u65b0-erpc-cli",children:"upgrade - \u66f4\u65b0 erpc-cli"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"erpc upgrade\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u5176\u4ed6---\u529f\u80fd",children:"\u5176\u4ed6 - \u529f\u80fd"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"erpc-cli \u5177\u6709\u7248\u672c\u68c0\u6d4b\u529f\u80fd, \u5f53\u524d\u7248\u672c\u4f4e\u4e8e\u6700\u65b0\u7248\u672c\u65f6, \u4f1a\u4e3b\u52a8\u63d0\u793a\u66f4\u65b0."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"erpc-cli \u5927\u90e8\u5206\u529f\u80fd\u53ef\u79bb\u7ebf\u4f7f\u7528, \u4f46\u662f\u90e8\u5206\u529f\u80fd\u9700\u8981\u8054\u7f51\u83b7\u53d6\u6570\u636e."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["\u5982: ",(0,r.jsx)(n.code,{children:"erpc new"})," \u65f6, \u4f1a\u8054\u7f51\u83b7\u53d6\u6a21\u677f\u5217\u8868. erpc gen \u65f6\u82e5\u6dfb\u52a0\u65b0\u7684\u5916\u90e8\u5f15\u7528\u9996\u6b21\u751f\u6210\u65f6\u4e5f\u9700\u8981\u7f51\u7edc\u652f\u6301."]})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},7693:(e,n,s)=>{s.d(n,{A:()=>c});const c=s.p+"assets/images/comp-gif01-fa4a60ae9fd8db4672bb09d8471c511c.gif"},4387:(e,n,s)=>{s.d(n,{A:()=>c});const c=s.p+"assets/images/comp01-52b44c5ef2791b10370864eccb48b383.png"},3946:(e,n,s)=>{s.d(n,{A:()=>c});const c=s.p+"assets/images/quick-start-eddde768a01599e64346d39b7f27f978.gif"},5e3:(e,n,s)=>{s.d(n,{A:()=>c});const c=s.p+"assets/images/swag01-e2755338a12cb7502c55fe79616f91c2.png"},6979:(e,n,s)=>{s.d(n,{A:()=>c});const c=s.p+"assets/images/swag02-60e58a480fa81f6cf3008dca7bb48d98.png"},7146:(e,n,s)=>{s.d(n,{A:()=>c});const c=s.p+"assets/images/swag03-a48462f81144e3206103276e12b7977a.png"},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>i});var c=s(6540);const r={},o=c.createContext(r);function l(e){const n=c.useContext(o);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),c.createElement(o.Provider,{value:n},e.children)}}}]);